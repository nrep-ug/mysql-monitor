(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7924:function(e,r,t){Promise.resolve().then(t.bind(t,4338))},4338:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var a=t(7437),s=t(2265),l=t(4033),n=t(8333),i=t(2824),o=t(6581),c=t(382),d=t(4993),m=t(6716),u=t(9639),f=t(7332);function h(){let[e,r]=(0,s.useState)(""),[t,h]=(0,s.useState)(""),{login:p,isLoading:x,error:v}=(0,n.a)(),y=(0,l.useRouter)(),j=async r=>{r.preventDefault();try{await p(e,t),y.push("/dashboard")}catch(e){}};return(0,a.jsx)(i.Z,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,a.jsx)(o.Z,{style:{width:"100%",maxWidth:"400px"},children:(0,a.jsxs)(o.Z.Body,{className:"p-4",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)(f.Z,{size:48,className:"text-primary mb-2"}),(0,a.jsx)("h2",{className:"fw-bold",children:"NREP Server Monitor"}),(0,a.jsx)("p",{className:"text-muted",children:"Enter your credentials to access the dashboard"})]}),v&&(0,a.jsx)(c.Z,{variant:"danger",children:v}),(0,a.jsxs)(d.Z,{onSubmit:j,children:[(0,a.jsxs)(d.Z.Group,{className:"mb-3",controlId:"email",children:[(0,a.jsx)(d.Z.Label,{children:"Email"}),(0,a.jsx)(d.Z.Control,{type:"email",placeholder:"your.email@example.com",value:e,onChange:e=>r(e.target.value),required:!0})]}),(0,a.jsxs)(d.Z.Group,{className:"mb-4",controlId:"password",children:[(0,a.jsx)(d.Z.Label,{children:"Password"}),(0,a.jsx)(d.Z.Control,{type:"password",value:t,onChange:e=>h(e.target.value),required:!0})]}),(0,a.jsx)(m.Z,{variant:"primary",type:"submit",className:"w-100",disabled:x,children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Logging in..."]}):"Login"})]}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)("p",{className:"text-muted small mb-0",children:"MySQL Server Monitoring System"})})]})})})}},8333:function(e,r,t){"use strict";t.d(r,{H:function(){return n},a:function(){return i}});var a=t(7437),s=t(2265);let l=(0,s.createContext)(void 0);function n(e){let{children:r}=e,[t,n]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[m,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),r=localStorage.getItem("user");e&&r&&(o(e),n(JSON.parse(r))),d(!1)},[]);let f=async(e,r)=>{d(!0),u(null);try{let t=await fetch("".concat("https://nrepserver.derrickml.com","/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}),a=await t.json();if(!t.ok)throw Error(a.error||"Login failed");o(a.token),n(a.user),localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user))}catch(e){u(e instanceof Error?e.message:"An unknown error occurred")}finally{d(!1)}},h=async(e,r,t)=>{d(!0),u(null);try{let a=await fetch("".concat("https://nrepserver.derrickml.com","/api/register"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({username:e,email:r,password:t})}),s=await a.json();if(!a.ok)throw Error(s.error||"Registration failed")}catch(e){throw u(e instanceof Error?e.message:"An unknown error occurred"),e}finally{d(!1)}};return(0,a.jsx)(l.Provider,{value:{user:t,token:i,login:f,logout:()=>{n(null),o(null),localStorage.removeItem("token"),localStorage.removeItem("user")},register:h,isLoading:c,error:m},children:r})}function i(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},382:function(e,r,t){"use strict";t.d(r,{Z:function(){return y}});var a=t(2744),s=t.n(a),l=t(2265),n=t(4061),i=t(9605),o=t(5956),c=t(4617),d=t(7437);let m=(0,c.Z)("h4");m.displayName="DivStyledAsH4";let u=l.forwardRef(({className:e,bsPrefix:r,as:t=m,...a},l)=>(r=(0,o.vE)(r,"alert-heading"),(0,d.jsx)(t,{ref:l,className:s()(e,r),...a})));u.displayName="AlertHeading";var f=t(1520);let h=l.forwardRef(({className:e,bsPrefix:r,as:t=f.Z,...a},l)=>(r=(0,o.vE)(r,"alert-link"),(0,d.jsx)(t,{ref:l,className:s()(e,r),...a})));h.displayName="AlertLink";var p=t(2525),x=t(5754);let v=l.forwardRef((e,r)=>{let{bsPrefix:t,show:a=!0,closeLabel:l="Close alert",closeVariant:c,className:m,children:u,variant:f="primary",onClose:h,dismissible:v,transition:y=p.Z,...j}=(0,n.Ch)(e,{show:"onClose"}),N=(0,o.vE)(t,"alert"),b=(0,i.Z)(e=>{h&&h(!1,e)}),g=!0===y?p.Z:y,w=(0,d.jsxs)("div",{role:"alert",...g?void 0:j,ref:r,className:s()(m,N,f&&`${N}-${f}`,v&&`${N}-dismissible`),children:[v&&(0,d.jsx)(x.Z,{onClick:b,"aria-label":l,variant:c}),u]});return g?(0,d.jsx)(g,{unmountOnExit:!0,...j,ref:void 0,in:a,children:w}):a?w:null});v.displayName="Alert";var y=Object.assign(v,{Link:h,Heading:u})},4993:function(e,r,t){"use strict";t.d(r,{Z:function(){return $}});var a=t(2744),s=t.n(a),l=t(4275),n=t.n(l),i=t(2265),o=t(7437);let c={type:n().string,tooltip:n().bool,as:n().elementType},d=i.forwardRef(({as:e="div",className:r,type:t="valid",tooltip:a=!1,...l},n)=>(0,o.jsx)(e,{...l,ref:n,className:s()(r,`${t}-${a?"tooltip":"feedback"}`)}));d.displayName="Feedback",d.propTypes=c;let m=i.createContext({});var u=t(5956);let f=i.forwardRef(({id:e,bsPrefix:r,className:t,type:a="checkbox",isValid:l=!1,isInvalid:n=!1,as:c="input",...d},f)=>{let{controlId:h}=(0,i.useContext)(m);return r=(0,u.vE)(r,"form-check-input"),(0,o.jsx)(c,{...d,ref:f,type:a,id:e||h,className:s()(t,r,l&&"is-valid",n&&"is-invalid")})});f.displayName="FormCheckInput";let h=i.forwardRef(({bsPrefix:e,className:r,htmlFor:t,...a},l)=>{let{controlId:n}=(0,i.useContext)(m);return e=(0,u.vE)(e,"form-check-label"),(0,o.jsx)("label",{...a,ref:l,htmlFor:t||n,className:s()(r,e)})});h.displayName="FormCheckLabel";let p=i.forwardRef(({id:e,bsPrefix:r,bsSwitchPrefix:t,inline:a=!1,reverse:l=!1,disabled:n=!1,isValid:c=!1,isInvalid:p=!1,feedbackTooltip:x=!1,feedback:v,feedbackType:y,className:j,style:N,title:b="",type:g="checkbox",label:w,children:k,as:C="input",...E},S)=>{r=(0,u.vE)(r,"form-check"),t=(0,u.vE)(t,"form-switch");let{controlId:Z}=(0,i.useContext)(m),F=(0,i.useMemo)(()=>({controlId:e||Z}),[Z,e]),R=!k&&null!=w&&!1!==w||i.Children.toArray(k).some(e=>i.isValidElement(e)&&e.type===h),$=(0,o.jsx)(f,{...E,type:"switch"===g?"checkbox":g,ref:S,isValid:c,isInvalid:p,disabled:n,as:C});return(0,o.jsx)(m.Provider,{value:F,children:(0,o.jsx)("div",{style:N,className:s()(j,R&&r,a&&`${r}-inline`,l&&`${r}-reverse`,"switch"===g&&t),children:k||(0,o.jsxs)(o.Fragment,{children:[$,R&&(0,o.jsx)(h,{title:b,children:w}),v&&(0,o.jsx)(d,{type:y,tooltip:x,children:v})]})})})});p.displayName="FormCheck";var x=Object.assign(p,{Input:f,Label:h});t(267);let v=i.forwardRef(({bsPrefix:e,type:r,size:t,htmlSize:a,id:l,className:n,isValid:c=!1,isInvalid:d=!1,plaintext:f,readOnly:h,as:p="input",...x},v)=>{let{controlId:y}=(0,i.useContext)(m);return e=(0,u.vE)(e,"form-control"),(0,o.jsx)(p,{...x,type:r,size:a,ref:v,readOnly:h,id:l||y,className:s()(n,f?`${e}-plaintext`:e,t&&`${e}-${t}`,"color"===r&&`${e}-color`,c&&"is-valid",d&&"is-invalid")})});v.displayName="FormControl";var y=Object.assign(v,{Feedback:d});let j=i.forwardRef(({className:e,bsPrefix:r,as:t="div",...a},l)=>(r=(0,u.vE)(r,"form-floating"),(0,o.jsx)(t,{ref:l,className:s()(e,r),...a})));j.displayName="FormFloating";let N=i.forwardRef(({controlId:e,as:r="div",...t},a)=>{let s=(0,i.useMemo)(()=>({controlId:e}),[e]);return(0,o.jsx)(m.Provider,{value:s,children:(0,o.jsx)(r,{...t,ref:a})})});N.displayName="FormGroup";var b=t(4434);let g=i.forwardRef(({as:e="label",bsPrefix:r,column:t=!1,visuallyHidden:a=!1,className:l,htmlFor:n,...c},d)=>{let{controlId:f}=(0,i.useContext)(m);r=(0,u.vE)(r,"form-label");let h="col-form-label";"string"==typeof t&&(h=`${h} ${h}-${t}`);let p=s()(l,r,a&&"visually-hidden",t&&h);return(n=n||f,t)?(0,o.jsx)(b.Z,{ref:d,as:"label",className:p,htmlFor:n,...c}):(0,o.jsx)(e,{ref:d,className:p,htmlFor:n,...c})});g.displayName="FormLabel";let w=i.forwardRef(({bsPrefix:e,className:r,id:t,...a},l)=>{let{controlId:n}=(0,i.useContext)(m);return e=(0,u.vE)(e,"form-range"),(0,o.jsx)("input",{...a,type:"range",ref:l,className:s()(r,e),id:t||n})});w.displayName="FormRange";let k=i.forwardRef(({bsPrefix:e,size:r,htmlSize:t,className:a,isValid:l=!1,isInvalid:n=!1,id:c,...d},f)=>{let{controlId:h}=(0,i.useContext)(m);return e=(0,u.vE)(e,"form-select"),(0,o.jsx)("select",{...d,size:t,ref:f,className:s()(a,e,r&&`${e}-${r}`,l&&"is-valid",n&&"is-invalid"),id:c||h})});k.displayName="FormSelect";let C=i.forwardRef(({bsPrefix:e,className:r,as:t="small",muted:a,...l},n)=>(e=(0,u.vE)(e,"form-text"),(0,o.jsx)(t,{...l,ref:n,className:s()(r,e,a&&"text-muted")})));C.displayName="FormText";let E=i.forwardRef((e,r)=>(0,o.jsx)(x,{...e,ref:r,type:"switch"}));E.displayName="Switch";var S=Object.assign(E,{Input:x.Input,Label:x.Label});let Z=i.forwardRef(({bsPrefix:e,className:r,children:t,controlId:a,label:l,...n},i)=>(e=(0,u.vE)(e,"form-floating"),(0,o.jsxs)(N,{ref:i,className:s()(r,e),controlId:a,...n,children:[t,(0,o.jsx)("label",{htmlFor:a,children:l})]})));Z.displayName="FloatingLabel";let F={_ref:n().any,validated:n().bool,as:n().elementType},R=i.forwardRef(({className:e,validated:r,as:t="form",...a},l)=>(0,o.jsx)(t,{...a,ref:l,className:s()(e,r&&"was-validated")}));R.displayName="Form",R.propTypes=F;var $=Object.assign(R,{Group:N,Control:y,Floating:j,Check:x,Switch:S,Label:g,Text:C,Range:w,Select:k,FloatingLabel:Z})},9639:function(e,r,t){"use strict";var a=t(2744),s=t.n(a),l=t(2265),n=t(5956),i=t(7437);let o=l.forwardRef(({bsPrefix:e,variant:r,animation:t="border",size:a,as:l="div",className:o,...c},d)=>{e=(0,n.vE)(e,"spinner");let m=`${e}-${t}`;return(0,i.jsx)(l,{ref:d,...c,className:s()(o,m,a&&`${m}-${a}`,r&&`text-${r}`)})});o.displayName="Spinner",r.Z=o}},function(e){e.O(0,[363,930,971,938,744],function(){return e(e.s=7924)}),_N_E=e.O()}]);