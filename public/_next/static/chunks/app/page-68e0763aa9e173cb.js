(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8559:function(e,t,r){Promise.resolve().then(r.bind(r,6911))},6911:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(7437),o=r(2265),i=r(4033),u=r(8333),a=r(9639);function s(){let e=(0,i.useRouter)(),{user:t,isLoading:r}=(0,u.a)();return(0,o.useEffect)(()=>{r||(t?e.push("/dashboard"):e.push("/login"))},[t,r,e]),(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,n.jsx)(a.Z,{animation:"border",role:"status",variant:"primary",children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}},8333:function(e,t,r){"use strict";r.d(t,{H:function(){return u},a:function(){return a}});var n=r(7437),o=r(2265);let i=(0,o.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,o.useState)(null),[a,s]=(0,o.useState)(null),[c,l]=(0,o.useState)(!0),[f,p]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(s(e),u(JSON.parse(t))),l(!1)},[]);let d=async(e,t)=>{l(!0),p(null);try{let r=await fetch("".concat("https://nrepserver.derrickml.com","/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),n=await r.json();if(!r.ok)throw Error(n.error||"Login failed");s(n.token),u(n.user),localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user))}catch(e){p(e instanceof Error?e.message:"An unknown error occurred")}finally{l(!1)}},y=async(e,t,r)=>{l(!0),p(null);try{let n=await fetch("".concat("https://nrepserver.derrickml.com","/api/register"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({username:e,email:t,password:r})}),o=await n.json();if(!n.ok)throw Error(o.error||"Registration failed")}catch(e){throw p(e instanceof Error?e.message:"An unknown error occurred"),e}finally{l(!1)}};return(0,n.jsx)(i.Provider,{value:{user:r,token:a,login:d,logout:()=>{u(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user")},register:y,isLoading:c,error:f},children:t})}function a(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},622:function(e,t,r){"use strict";var n=r(2265),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(5313)},9639:function(e,t,r){"use strict";var n=r(2744),o=r.n(n),i=r(2265),u=r(5956),a=r(7437);let s=i.forwardRef(({bsPrefix:e,variant:t,animation:r="border",size:n,as:i="div",className:s,...c},l)=>{e=(0,u.vE)(e,"spinner");let f=`${e}-${r}`;return(0,a.jsx)(i,{ref:l,...c,className:o()(s,f,n&&`${f}-${n}`,t&&`text-${t}`)})});s.displayName="Spinner",t.Z=s},5956:function(e,t,r){"use strict";r.d(t,{pi:function(){return s},vE:function(){return a},zG:function(){return c}});var n=r(2265);r(7437);let o=n.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:i,Provider:u}=o;function a(e,t){let{prefixes:r}=(0,n.useContext)(o);return e||r[t]||t}function s(){let{breakpoints:e}=(0,n.useContext)(o);return e}function c(){let{minBreakpoint:e}=(0,n.useContext)(o);return e}},2744:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}(r)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0!==(r=(function(){return o}).apply(t,[]))&&(e.exports=r)}()}},function(e){e.O(0,[971,938,744],function(){return e(e.s=8559)}),_N_E=e.O()}]);