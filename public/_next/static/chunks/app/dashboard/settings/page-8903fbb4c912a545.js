(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{440:function(e,s,t){Promise.resolve().then(t.bind(t,8372))},8372:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var n=t(7437),a=t(2265),r=t(1301),i=t(743),l=t(2824),c=t(8597),o=t(4434),d=t(6581),m=t(4993),h=t(6716);function u(){let[e,s]=(0,a.useState)(!0),[t,u]=(0,a.useState)("5000"),[x,f]=(0,a.useState)(""),{showToast:j}=(0,i.p)();return(0,n.jsx)(r.Z,{children:(0,n.jsxs)(l.Z,{fluid:!0,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("h1",{className:"h3",children:"Settings"})}),(0,n.jsxs)(c.Z,{className:"g-4",children:[(0,n.jsx)(o.Z,{md:6,children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(d.Z.Header,{children:(0,n.jsx)(d.Z.Title,{className:"h5 mb-0",children:"Notification Settings"})}),(0,n.jsx)(d.Z.Body,{children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(m.Z.Check,{type:"switch",id:"email-notifications",label:"Email Notifications",checked:e,onChange:e=>s(e.target.checked),className:"mb-3"}),(0,n.jsx)(m.Z.Text,{className:"text-muted d-block mb-3",children:"Receive email alerts when server status changes"}),e&&(0,n.jsxs)(m.Z.Group,{className:"mb-3",controlId:"alert-email",children:[(0,n.jsx)(m.Z.Label,{children:"Alert Email Address"}),(0,n.jsx)(m.Z.Control,{type:"email",placeholder:"alerts@example.com",value:x,onChange:e=>f(e.target.value)})]})]})})]})}),(0,n.jsx)(o.Z,{md:6,children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(d.Z.Header,{children:(0,n.jsx)(d.Z.Title,{className:"h5 mb-0",children:"Monitoring Settings"})}),(0,n.jsx)(d.Z.Body,{children:(0,n.jsxs)(m.Z,{children:[(0,n.jsxs)(m.Z.Group,{className:"mb-3",controlId:"check-interval",children:[(0,n.jsx)(m.Z.Label,{children:"Check Interval (ms)"}),(0,n.jsx)(m.Z.Control,{type:"number",min:"1000",step:"1000",value:t,onChange:e=>u(e.target.value)}),(0,n.jsx)(m.Z.Text,{className:"text-muted",children:"How often to check the database status (minimum 1000ms)"})]}),(0,n.jsx)(h.Z,{variant:"primary",onClick:()=>{j({title:"Settings Saved",message:"Your settings have been updated successfully",variant:"success"})},children:"Save Settings"})]})})]})})]})]})})}},1301:function(e,s,t){"use strict";t.d(s,{Z:function(){return Z}});var n=t(7437),a=t(2265),r=t(1396),i=t.n(r),l=t(4033),c=t(8333),o=t(9654),d=t(2824),m=t(6716),h=t(6344),u=t(8427),x=t(5119),f=t(998),j=t(5750),g=t(9409),p=t(7332),v=t(8004),N=t(5883);function Z(e){let{children:s}=e,{user:t,logout:r}=(0,c.a)(),Z=(0,l.usePathname)(),[b,y]=(0,a.useState)(!1),w=()=>y(!1),S=[{name:"Dashboard",href:"/dashboard",icon:x.Z},{name:"Status History",href:"/dashboard/history",icon:f.Z},{name:"User Management",href:"/dashboard/users",icon:j.Z},{name:"Settings",href:"/dashboard/settings",icon:g.Z}];return(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)(o.Z,{expand:!1,className:"bg-light d-lg-none w-100 mb-3",fixed:"top",children:(0,n.jsxs)(d.Z,{fluid:!0,children:[(0,n.jsxs)(o.Z.Brand,{href:"/dashboard",className:"d-flex align-items-center",children:[(0,n.jsx)(p.Z,{className:"me-2",size:24}),(0,n.jsx)("span",{children:"NREP Monitor"})]}),(0,n.jsx)(o.Z.Toggle,{"aria-controls":"sidebar-nav",onClick:()=>y(!0),as:m.Z,variant:"outline-primary",children:(0,n.jsx)(v.Z,{size:20})})]})}),(0,n.jsxs)(h.Z,{show:b,onHide:w,placement:"start",className:"w-75 max-w-300",style:{maxWidth:"300px"},children:[(0,n.jsx)(h.Z.Header,{closeButton:!0,children:(0,n.jsxs)(h.Z.Title,{className:"d-flex align-items-center",children:[(0,n.jsx)(p.Z,{className:"me-2",size:24}),(0,n.jsx)("span",{children:"NREP Monitor"})]})}),(0,n.jsx)(h.Z.Body,{className:"p-0",children:(0,n.jsxs)("div",{className:"d-flex flex-column h-100",children:[(0,n.jsx)(u.Z,{className:"flex-column p-3",children:S.map(e=>(0,n.jsxs)(u.Z.Link,{as:i(),href:e.href,className:"d-flex align-items-center py-2 ".concat(Z===e.href?"active":""),onClick:w,children:[(0,n.jsx)(e.icon,{className:"me-3",size:18}),e.name]},e.name))}),(0,n.jsxs)("div",{className:"mt-auto p-3 border-top",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,n.jsx)("div",{className:"d-flex align-items-center justify-content-center bg-primary text-white rounded-circle me-2",style:{width:"32px",height:"32px"},children:null==t?void 0:t.username.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"mb-0 fw-medium",children:null==t?void 0:t.username}),(0,n.jsx)("p",{className:"mb-0 text-muted small",children:null==t?void 0:t.email})]})]}),(0,n.jsxs)(m.Z,{variant:"outline-danger",className:"w-100 d-flex align-items-center justify-content-center",onClick:r,children:[(0,n.jsx)(N.Z,{size:16,className:"me-2"}),"Logout"]})]})]})})]}),(0,n.jsxs)("div",{className:"sidebar bg-light d-none d-lg-flex flex-column",children:[(0,n.jsxs)("div",{className:"p-3 border-bottom d-flex align-items-center",children:[(0,n.jsx)(p.Z,{className:"me-2",size:24}),(0,n.jsx)("h5",{className:"mb-0 fw-bold",children:"NREP Monitor"})]}),(0,n.jsx)(u.Z,{className:"flex-column p-3",children:S.map(e=>(0,n.jsxs)(u.Z.Link,{as:i(),href:e.href,className:"d-flex align-items-center py-2 ".concat(Z===e.href?"active":""),children:[(0,n.jsx)(e.icon,{className:"me-3",size:18}),e.name]},e.name))}),(0,n.jsxs)("div",{className:"mt-auto p-3 border-top",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,n.jsx)("div",{className:"d-flex align-items-center justify-content-center bg-primary text-white rounded-circle me-2",style:{width:"32px",height:"32px"},children:null==t?void 0:t.username.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"mb-0 fw-medium",children:null==t?void 0:t.username}),(0,n.jsx)("p",{className:"mb-0 text-muted small",children:null==t?void 0:t.email})]})]}),(0,n.jsxs)(m.Z,{variant:"outline-danger",className:"w-100 d-flex align-items-center justify-content-center",onClick:r,children:[(0,n.jsx)(N.Z,{size:16,className:"me-2"}),"Logout"]})]})]}),(0,n.jsxs)("div",{className:"main-content",children:[(0,n.jsx)("div",{className:"d-lg-none",style:{height:"56px"}}),s]})]})}},743:function(e,s,t){"use strict";t.d(s,{V:function(){return c},p:function(){return o}});var n=t(7437),a=t(2265),r=t(8124),i=t(7679);let l=(0,a.createContext)(void 0);function c(e){let{children:s}=e,[t,c]=(0,a.useState)([]),o=e=>{c(s=>s.filter(s=>s.id!==e))};return(0,a.useEffect)(()=>{let e=[];return t.forEach(s=>{if(!1!==s.autohide){let t=setTimeout(()=>{o(s.id)},5e3);e.push(t)}}),()=>{e.forEach(e=>clearTimeout(e))}},[t]),(0,n.jsxs)(l.Provider,{value:{showToast:e=>{let s=Math.random().toString(36).substring(2,9);c(t=>[...t,{...e,id:s}])}},children:[s,(0,n.jsx)(r.Z,{position:"top-end",className:"p-3",style:{zIndex:1060},children:t.map(e=>(0,n.jsxs)(i.Z,{onClose:()=>o(e.id),bg:e.variant,delay:5e3,autohide:!1!==e.autohide,children:[(0,n.jsx)(i.Z.Header,{children:(0,n.jsx)("strong",{className:"me-auto",children:e.title})}),(0,n.jsx)(i.Z.Body,{className:"danger"===e.variant||"dark"===e.variant?"text-white":"",children:e.message})]},e.id))})]})}function o(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},8333:function(e,s,t){"use strict";t.d(s,{H:function(){return i},a:function(){return l}});var n=t(7437),a=t(2265);let r=(0,a.createContext)(void 0);function i(e){let{children:s}=e,[t,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[o,d]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("token"),s=localStorage.getItem("user");e&&s&&(c(e),i(JSON.parse(s))),d(!1)},[]);let u=async(e,s)=>{d(!0),h(null);try{let t=await fetch("".concat("https://nrepserver.derrickml.com","/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),n=await t.json();if(!t.ok)throw Error(n.error||"Login failed");c(n.token),i(n.user),localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user))}catch(e){h(e instanceof Error?e.message:"An unknown error occurred")}finally{d(!1)}},x=async(e,s,t)=>{d(!0),h(null);try{let n=await fetch("".concat("https://nrepserver.derrickml.com","/api/register"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({username:e,email:s,password:t})}),a=await n.json();if(!n.ok)throw Error(a.error||"Registration failed")}catch(e){throw h(e instanceof Error?e.message:"An unknown error occurred"),e}finally{d(!1)}};return(0,n.jsx)(r.Provider,{value:{user:t,token:l,login:u,logout:()=>{i(null),c(null),localStorage.removeItem("token"),localStorage.removeItem("user")},register:x,isLoading:o,error:m},children:s})}function l(){let e=(0,a.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[363,930,63,243,971,938,744],function(){return e(e.s=440)}),_N_E=e.O()}]);